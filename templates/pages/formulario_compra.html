{% extends 'base.html' %}

{% block content %}

<div class="card">
    <div class="card-body" style="margin-top:100px;">
      <h5 class="card-title">Completa el fomrulario para procesar tu compra</h5>

      <!-- General Form Elements -->
      <form method="post" action="{% url 'formulario_compra' product.slug %}">
        {% csrf_token %}
        <div class="row mb-3">
            <label for="inputText" class="col-sm-2 col-form-label">Usuario:</label>
            <div class="col-sm-10">
                <input type="hidden" name="usuario" value="{{ form.usuario.value }}">
                <p>{{ user.username }}</p>
            </div>
        </div>
        
        <div class="row mb-3">
          <label for="inputEmail" class="col-sm-2 col-form-label">Email:</label>
          <div class="col-sm-10">
            <input type="email" class="form-control" id="inputEmail" name="email">
          </div>
        </div>
        
        <div class="row mb-3">
          <label for="inputNumber" class="col-sm-2 col-form-label" name="producto" >Producto:</label>
          <div class="col-sm-10">
            <p>{{ product.name }}</p>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputNumber" class="col-sm-2 col-form-label">Precio</label>
          <div class="col-sm-10">
            <p>${{ product.price }}</p>
          </div>
        </div>
        
        <div class="row mb-3">
          <label for="inputColor" class="col-sm-2 col-form-label">Categoria:</label>
          <div class="col-sm-10">
            <p>{{ product.category }}</p>
          </div>
        </div>
      
        <div class="row mb-3">
          <div class="col-sm-10">
            <button type="submit" id="buying-btn" class="btn btn-primary">Comprar</button>
          </div>
        </div>
      </form>
      
      <script>
        document.getElementById('buying-btn').addEventListener('click', function(event) {
          event.stopPropagation();
        });
      </script><!-- End General Form Elements -->

    </div>
    
  </div>

{% endblock content %}